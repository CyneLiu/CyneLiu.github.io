<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Python中的str.format]]></title>
    <url>%2F2018%2F03%2F25%2FPython%E4%B8%AD%E7%9A%84str-format%2F</url>
    <content type="text"><![CDATA[str.format 的引入在 Python 中，我们可以使用 + 来连接字符串，在简单情况下这种方式能够很好的工作。但是当我们需要进行复杂的字符串连接时，如果依然使用 + 来完成，不仅会使代码变得晦涩难懂，还会让代码变得难以维护，此时这种方式就显得力不从心了。例如，我们想打印这样一条记录： User:John has completed Action:payment at Time:13:30:00 如果使用加号实现，会是下面这种形式： print &quot;User:&quot; + user_name + &quot; has completed Action:&quot; + \ action_name + &quot; at Time:&quot; + current_time 如果以后回过头来阅读这段代码，我们很难直观看出它的输出格式，且修改起来也相对麻烦。我们可以换用 % 来实现： print &quot;User:%s has completed Action:%s at Time:%s&quot; %\ (user_name, action_name, current_time) 这回代码变得清晰简洁多了。不过，Python 为我们提供了另一种简洁优雅的实现方式，也是官方更加推荐的方式：&nbsp;&nbsp;&nbsp;&nbsp;使用 str.format() 来实现字符串的格式化： print &quot;User:{} has completed Action:{} at Time:{}&quot;.format( user_name, action_name, current_time) str.format 既能够用于简单的场景，也能够胜任复杂的字符串替换，而无需繁琐的字符串连接操作。Python 的内置类型 str 和 unicode 均支持使用 str.format() 来格式化字符串。我们接下来就详细地讨论 str.format() 的具体用法。 str.format 基本语法格式化字符串使用花括号 {} 来包围替换字段，也就是待替换的字符串。而未被花括号包围的字符会原封不动地出现在结果中。 使用位置索引以下两种写法是等价的：“Hello, {} and {}!”.format(“John”, “Mary”)“Hello, {0} and {1}!”.format(“John”, “Mary”)花括号内部可以写上目标字符串的索引，也可以省略。如果省略，则按 format 括号里的目标字符串顺序依次替换。 使用关键字索引除了通过位置来指定目标字符串，我们还可以通过关键字来指定它。例如： “Hello, {boy} and {girl}!”.format(boy=”John”, girl=”Mary”) 使用关键字索引的好处是，我们无需关心参数的位置，且字符串的最终结果能够一目了然。在以后的代码维护中，我们能够快速地修改对应的参数，而不用对照字符串挨个去寻找相应的参数。注意：如果字符串本身含有花括号，则需要将其重复两次来转义。例如，字符串本身含有 &#123; ，为了让 Python 知道这是一个普通字符，而不是用于包围替换字段的花括号，我们只需将它改写成 &#123;&#123; 即可。 str.format 高级语法str.format 非常强大，足以完成日常工作中遇到的格式化输出。熟练掌握该方法，能够为以后的字符串处理打好基础，还能节省不少时间。 访问参数的属性或元素在使用 str.format 来格式化字符串时，我们通常将目标字符串作为参数传递给 format 方法。实际上，我们还可以在格式化字符串中访问参数的某个属性或某个元素： &quot;My car is {0.color}.&quot;.format(black_car) &quot;The first student is {student[0]}.&quot;.format(student=stu_list) &quot;John is {d[john]} years old.&quot;.format(d=age_dict) 参数输出转换参数的字符串输出，默认是由其自身的 format 方法来实现的。也就是说Python 使用参数的 format 输出来取代替换字段。如果我们想调用 str() 或 repr() 来转换参数，可以通过添加转换标志来实现： call str() on argument &quot;It&apos;s a {0!s}.&quot; call repr() on argument &quot;We can get info from {name!r}.&quot; str.format 一般形式格式化字符串的一般形式如下： &quot;... {field_name!conversion:format_spec} ...&quot; 从上面的代码可以看到，格式化字符串可分为 field_name、conversion、format_spec 三部分，分别对应替换字段名称（索引）、转换标志、格式描述。其中，字段名称是必选的，而后两者是可选的。转换标志紧跟在英文感叹号后面，而格式描述紧跟在英文冒号后面。前面已经提到过，字段名称既可是位置索引，也可是关键字索引。字段名称后面可以通过点来访问属性，或通过方括号来访问元素。在这里，我们重点看一下格式描述（format_spec）这一项。格式描述中含有6个选项，分别是 fill、align、sign、width、precision、type。 它们的位置关系如下： [[fill]align][sign][#][0][width][,][.precision][type] fill 可以是任意字符，默认为空格。align 仅当指定最小宽度时有效。&lt; 左对齐（默认选项）“&gt;” 右对齐= 仅对数字有效；将填充字符放到符号与数字间，例如 +0001234^ 居中对齐sign仅对数字有效 所有数字均带有符号 仅负数带有符号（默认选项）&nbsp;即空格；正数前面带空格，负数前面带符号‘#’ 只对整数有效自动在二进制、八进制、十六进制数值前添加对应的 0b、0o、 0x。‘,’自动在每三个数字之间添加 , 分隔符。width十进制数字，定义最小宽度。如果未指定，则由内容的宽度来决定。如果没有指定对齐方式（align），那么可以在 width 前面添加一个0来实现自动填充0，等价于 fill 设为 0 并且 align 设为 =。precision用于确定浮点数的精度，或字符串的最大长度。不可用于整型数值。type确定参数类型，默认为 s ，即字符串。整数输出类型： b：以二进制格式输出c：将整数转换成对应的 unicode 字符d：以十进制输出（默认选项）o：以八进制输出x：以十六进制小写输出X：以十六进制大写输出n：与 d 相同，但使用当前环境的分隔符来分隔每3位数字十进制浮点数输出类型：e：指数标记；使用科学计数法输出，用e来表示指数部分，默认 precision 为6E：与 e 相同，但使用大写 E 来表示指数部分f：以定点形式输出数值，默认 precision 为6F：与 f 相同g：通用格式；对于给定的 precision p &gt;= 1，取数值的p位有效数字，并以定点或科学计数法输出（默认选项）G：通用格式；与 g 相同，当数值过大时使用 E 来表示指数部分n：与 g 相同，但使用当前环境的分隔符来分隔每3位数字%：百分比标记；使用百分比的形式输出数值，同时设定 f 标记]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexo建站记录]]></title>
    <url>%2F2018%2F03%2F03%2Fhexo%E5%BB%BA%E7%AB%99%E8%AE%B0%E5%BD%95%2F</url>
    <content type="text"><![CDATA[建站过程在遇到各种各样问题之后，终于搭建完成了这个博客。 其实回过头看看也并不是很麻烦，只是遇到了许多问题，有些是因为设备环境的问题，比如在测试“ssh -T git@github.com“这条命令时，一直提示”bad address“错误，让人很费解，重装环境重新来过还是报错，只好最后换了一台电脑就没有出现这个错误。当然经验证这个并不会影响整个博客的搭建，只要密钥复制的正确这些都不碍事。 还有一个问题是因为教程的问题，在修改主配置文件的“deploy”部署时，教程写的是https地址，我也是多次尝试也没成功，最后百度到原因写ssh地址就可以解决。当然也不能一概而论，若没有错误还是推荐使用https地址。 一个个的小地方就让我走了不少的弯路。最后终于找到一个比较详细准确的教程，在此分享给大家，在这也感谢作者Line, 无意侵犯作者原作，只是想让像我这样的小白少走些弯路。作者博客中有五篇关于hexo使用的教程，个人觉得比较适合小白看。 这就是这次建站的一些小心得，水平有限有什么说的不对的地方也感谢各位不吝赐教。 #后期添加： 一、添加网易云音乐插件 在别人的博客看到了这样一个音乐插件，实现很简单，打开网易云音乐网页版，选择自己想要分享的歌单，然后点击生成外链播放器即可，插件分为两种形式：iframe插件和flash插件，可根据情况选择。 二、添加particles.js背景动画 particles.js是一个粒子效果的js插件，在Github里可以找到这个项目的源码，但是百度了一下配置方法大多是在html中实现，反正我是小白，不知道怎么修改。回归正题，怎么在Hexo中实现particles.js效果呢？1.首先在\themes\next\layout\_layout.swig的&lt; /body &gt;标签上面添加 {% if theme.canvas_nest %} {% endif %} 2.在\themes\next\_config.yml中添加以下字段开启此功能： # background settings # add canvas-nest effect # see detail from https://github.com/hustcc/canvas-nest.js canvas_nest: true 3.这样动态效果就添加成功了，你会发现博客默认的白色背景遮挡了大部分区域使得只有边缘能看见动态效果，这时候只要修改一下背景颜色即可。在\themes\next\source\css\_schemes\Pisces_layout.styl中，把.content-wrap中的background修改为none，注意我这里使用的是Pisces主题，如果你使用的是别的主题，在相应路径下修改即可。这样如果用手机打开体验会比较差，我们单独设置一下手机，把.content-wrap的+mobile()中的background修改为white，这样手机端的体验就好很多，却又不影响电脑端的炫酷动画。 三、设置文章摘要 写出来的文章如果直接在首页全篇显示就比较别扭了，为了提高浏览体验，这时候就需要设置一下文章摘要了，我这里主要介绍三种方式。 1.在文章中使用&lt; !–more–&gt; 这种方法可以根据文章的内容，自己在合适的位置添加 &lt; !–more–&gt; 标签，使用灵活，也是Hexo推荐的方法。 2.在文章中的front-matter中添加description，并提供文章摘录。如图： 3.在主题配置文件中设置自动摘要 auto_excerpt: enable: true length: 150 #默认摘要为150字，可根据需要更改 官方文档： 文档|HexoNexT 错误汇总在使用hexo博客的过程中，遇到了如下一些错误： &#123; &#125;引起的报错今天写了一篇博客后按流程进行部署的时候，发现在生成静态页面的时候出现了如下的错误： 查了一下说什么的都有，每个方法也都试了一遍，最后发现是因为文章中直接引用了”&#123; &#125;”的原因，解决办法是将”&#123; &#125;”通过&amp;#123 &amp;#125后面加上分号”;”进行转换，就可以正常部署了。这里也有一些常见的特殊字符,可以根据需要转换。 标题无法正常解析在浏览别人的博客的时候发现Hexo有自动解析目录的功能，是依靠markdown的标题实现的，在加了一个“#标题”这样时却发现博客无法解析到这是一个标题，查了一下原因是正规的标题写法是在”#”和标题之间加一个空格。 换行一开始刚刚接触markdown的时候一直用html的&#60;br/&#62;换行，这种换行方式貌似在换行的同时增加了行间距，无意间发现一个更好也更简单的换行方式，就是在要换行的位置敲两个空格，就可以换行。]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>GitHub Pages</tag>
        <tag>Blog</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2018%2F03%2F03%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
</search>
